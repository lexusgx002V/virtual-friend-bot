# Virtual Friend ‚Äî Telegram Bot (AI Companion)

–ü—Ä–æ—Å—Ç–æ–π —Å—Ç–∞—Ä—Ç –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ/—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥—Ä—É–≥–∞ –≤ Telegram —Å –ø–∞–º—è—Ç—å—é –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è–º–∏.
–†–∞–±–æ—Ç–∞–µ—Ç ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. –ì–æ–ª–æ—Å (STT/TTS) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ª—é–±–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä.

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –î–∏–∞–ª–æ–≥ ¬´–∫–∞–∫ —Å –¥—Ä—É–≥–æ–º¬ª: –¥—Ä—É–∂–µ—Å–∫–∏–π —Ç–æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü–∞–º—è—Ç—å: –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è + –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (SQLite)
- –ü–µ—Ä—Å–æ–Ω—ã –∏ —Ä–µ–∂–∏–º—ã (–¥—Ä—É–∂–µ—Å–∫–∏–π, –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π, –≤–µ—á–µ—Ä–Ω–∏–π)
- –ö–æ–º–∞–Ω–¥—ã: `/start`, `/persona`, `/mode`, `/reset`, `/help`
- –õ—ë–≥–∫–∞—è –∑–∞–º–µ–Ω–∞ LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (OpenAI / –ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å / –ª—é–±–æ–π API)
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ `.env`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

1) –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —É @BotFather –∏ –ø–æ–ª—É—á–∏—Ç–µ `TELEGRAM_BOT_TOKEN`.
2) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` ‚Üí `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```env
   TELEGRAM_BOT_TOKEN=123456:ABC...
   LLM_PROVIDER=openai
   OPENAI_API_KEY=sk-...
   OPENAI_MODEL=gpt-4o-mini
   ```
   > –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∏ –º–æ–¥–µ–ª—å ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ `app/llm_client.py`.

3) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python -m venv .venv
   source .venv/bin/activate   # Windows: .venv\Scripts\activate
   pip install -r requirements.txt
   python app/main.py
   ```

4) –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ–º—É –±–æ—Ç—É.

## üß† –ü–∞–º—è—Ç—å
- –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è: –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–ø–ª–∏–∫–∏ –¥–∏–∞–ª–æ–≥–∞
- –î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è: —Ñ–∞–∫—Ç—ã –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–∏–º—è, –∏–Ω—Ç–µ—Ä–µ—Å—ã, —Ü–µ–ª–∏) ‚Äî –≤ —Ç–∞–±–ª–∏—Ü–µ `users`
- –°–≤–æ–¥–∫–∞ –±–µ—Å–µ–¥—ã —Å–∂–∞—Ç–∞—è ‚Äî –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

## üó£ –ì–æ–ª–æ—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–í `app/llm_client.py` –µ—Å—Ç—å –º–µ—Å—Ç–∞, –∫—É–¥–∞ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å STT/TTS (–Ω–∞–ø—Ä–∏–º–µ—Ä, Whisper API).
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–æ–ª–æ—Å –æ—Ç–∫–ª—é—á—ë–Ω.

## üîí –ü–µ—Ä—Å–æ–Ω—ã –∏ —Ä–µ–∂–∏–º—ã
–ö–æ–º–∞–Ω–¥–æ–π `/persona` –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä –¥—Ä—É–≥–∞ (–¥—Ä—É–∂–µ—Å–∫–∏–π / —Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ã–π / –∫–æ—É—á).
–ö–æ–º–∞–Ω–¥–æ–π `/mode` —Å–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è: `friendly`, `motivational`, `evening`.

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
virtual-friend-bot/
  app/
    main.py         # –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞ –∏ –∫–æ–º–∞–Ω–¥
    memory.py       # SQLite-–ø–∞–º—è—Ç—å
    personas.py     # –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –ø–µ—Ä—Å–æ–Ω
    llm_client.py   # –≤—ã–∑–æ–≤ LLM (OpenAI/–ª—é–±–æ–π API)
    utils.py        # —É—Ç–∏–ª–∏—Ç—ã (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ç.–ø.)
  .env.example
  requirements.txt
  run.sh
  README.md
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –•—Ä–∞–Ω–∏—Ç–µ –ë–î –Ω–∞ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–∏—Å–∫–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üì¶ –î–µ–ø–ª–æ–π
–ü–æ–¥—Ö–æ–¥–∏—Ç –ª—é–±–æ–π VPS (Ubuntu 22+). –î–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pm2` –∏–ª–∏ `systemd`.
–ú–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ Render/Fly/railway.app/Heroku (—Å —É—á—ë—Ç–æ–º –ø–æ–ª–∏—Ç–∏–∫).

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä
–≠—Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç. –í–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å ‚Äî —Å–æ–±–ª—é–¥–∞—Ç—å –∑–∞–∫–æ–Ω—ã –∏ —ç—Ç–∏–∫—É,
–æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ–∂–∏–º–æ–≤ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
